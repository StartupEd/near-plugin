

<!--<div id="kt_demo_panel" class="businesspage offcanvas offcanvas-right p-10">-->
    <!--begin::Header-->
    <!--<div class="offcanvas-header d-flex align-items-center justify-content-between pb-7" kt-hidden-height="47" style="">
        <h4 class="font-weight-bold m-0">Create a Business Page</h4>
        <a href="#" class="btn btn-xs btn-icon btn-light btn-hover-primary" id="kt_demo_panel_close">
            <i class="ki ki-close icon-xs text-muted"></i>
        </a>
    </div>-->
    <!--end::Header-->
    <!--begin::Content-->
    <!--<div class="offcanvas-content">
        <div class="offcanvas-wrapper mb-5 scroll-pull scroll ps ps--active-y" style="height: 246px; overflow: hidden;">
            <div class="wizard wizard-5 d-flex flex-column flex-lg-row flex-row-fluid" id="businessPage">-->
                <!--begin::Aside-->
                <!--<div class="wizard-aside bg-white d-flex flex-column flex-row-auto w-100 w-lg-300px w-xl-400px w-xxl-500px">-->
                    <!--begin::Aside Top-->
                    <!--<div class="d-flex flex-column-fluid flex-column px-xxl-30 px-10">-->
                        <!--begin: Wizard Nav-->
                        <!--<div class="wizard-nav d-flex d-flex justify-content-center pt-10 pt-lg-20 pb-5">-->
                            <!--begin::Wizard Steps-->
                            <!--<div class="wizard-steps">-->
                                <!--begin::Wizard Step 1 Nav-->
                                <!--<div class="wizard-step" data-wizard-type="step" data-wizard-state="current">
                                    <div class="wizard-wrapper">
                                        <div class="wizard-icon">
                                            <i class="wizard-check ki ki-check"></i>
                                            <span class="wizard-number">1</span>
                                        </div>
                                        <div class="wizard-label">
                                            <h3 class="wizard-title">Page Category</h3>
                                            <div class="wizard-desc">Select Page Category</div>
                                        </div>
                                    </div>
                                </div>-->
                                <!--end::Wizard Step 1 Nav-->
                                <!--begin::Wizard Step 2 Nav-->
                                <!--<div class="wizard-step" data-wizard-type="step">
                                    <div class="wizard-wrapper">
                                        <div class="wizard-icon">
                                            <i class="wizard-check ki ki-check"></i>
                                            <span class="wizard-number">2</span>
                                        </div>
                                        <div class="wizard-label">
                                            <h3 class="wizard-title">Page Details</h3>
                                            <div class="wizard-desc">Enter page Details</div>
                                        </div>
                                    </div>
                                </div>-->
                                <!--end::Wizard Step 2 Nav-->
                                <!--begin::Wizard Step 2 Nav-->
                                <!--<div class="wizard-step" data-wizard-type="step">
                                    <div class="wizard-wrapper">
                                        <div class="wizard-icon">
                                            <i class="wizard-check ki ki-check"></i>
                                            <span class="wizard-number">3</span>
                                        </div>
                                        <div class="wizard-label">
                                            <h3 class="wizard-title">Page Description</h3>
                                            <div class="wizard-desc">Enter page Description</div>
                                        </div>
                                    </div>
                                </div>-->
                                <!--end::Wizard Step 2 Nav-->
                                <!--begin::Wizard Step 3 Nav-->
                                <!--<div class="wizard-step" data-wizard-type="step">
                                    <div class="wizard-wrapper">
                                        <div class="wizard-icon">
                                            <i class="wizard-check ki ki-check"></i>
                                            <span class="wizard-number">3</span>
                                        </div>
                                        <div class="wizard-label">
                                            <h3 class="wizard-title">Completed!</h3>
                                            <div class="wizard-desc">Review and Submit</div>
                                        </div>
                                    </div>
                                </div>-->
                                <!--end::Wizard Step 3 Nav-->
                            <!--</div>-->
                            <!--end::Wizard Steps-->
                        <!--</div>-->
                        <!--end: Wizard Nav-->
                    <!--</div>-->
                    <!--end::Aside Top-->
                    <!--begin::Aside Bottom-->
                    <!--<div class="d-flex flex-row-auto bgi-no-repeat bgi-position-y-bottom bgi-position-x-center bgi-size-contain pt-2 pt-lg-5 h-350px" style="background-image: url(assets/media/svg/illustrations/features.svg)"></div>-->
                    <!--end::Aside Bottom-->
                <!--</div>
                <div class="wizard-content bg-gray-100 d-flex flex-column flex-row-fluid py-15 px-5 px-lg-10">-->
                    <!--begin::Form-->
                    <!--<div class="d-flex justify-content-center flex-row-fluid">
                        <EditForm class="pb-5 w-100 w-md-450px w-lg-500px" novalidate="novalidate" id="businessPageForm" Model="@Model" OnValidSubmit="SubmitInfo">
                            <CascadingValue Value="@FormElementStyle" Name="FormInput Class">
                                <CascadingValue Value="@InputElementStyle" Name="Input Class">
                                    <CascadingValue Value="@LabelStyle" Name="Label Class">
                                        <CascadingValue Value="@ElementWrapperStyle" Name="Wrapper Class">
                                            <div class="pb-5" data-wizard-type="step-content" data-wizard-state="current">
                                                <div class="pb-10 pb-lg-15">
                                                    <h3 class="font-weight-bolder text-dark font-size-h2">Create Business Page</h3>
                                                    <div class="text-muted font-weight-bold font-size-h5">
                                                        Select Category
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xl-12">-->
                                                        <!--begin::Nav Panel Widget 1-->
                                                        <!--<div class="card card-custom gutter-b">-->
                                                            <!--begin::Body-->
                                                            <!--<div class="card-body">-->
                                                                <!--begin::Nav Tabs-->
                                                                <!--<ul class="dashboard-tabs nav nav-pills nav-secondary row row-paddingless m-0 p-0 flex-column flex-sm-row" role="tablist">-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-3 mb-3 mb-lg-3" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category active" data-toggle="pill" href="#tab_forms_widget_1">
                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">STARTUP</span>
                                                                        </a>
                                                                    </li>-->
                                                                    <!--end::Item-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-3 mb-3 mb-lg-3" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category " data-toggle="pill" href="#tab_forms_widget_2">
                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">E-CELL</span>
                                                                        </a>
                                                                    </li>-->
                                                                    <!--end::Item-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-0 mb-3 mb-lg-3" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category " data-toggle="pill" href="#tab_forms_widget_3">

                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">INCUBATOR</span>
                                                                        </a>
                                                                    </li>-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-3 mb-3 mb-lg-0" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category " data-toggle="pill" href="#tab_forms_widget_4">

                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">EDUCATIONAL INSTITUTES</span>
                                                                        </a>
                                                                    </li>-->
                                                                    <!--end::Item-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-3 mb-3 mb-lg-0" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category " data-toggle="pill" href="#tab_forms_widget_5">
                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">COMMUNITY</span>
                                                                        </a>
                                                                    </li>-->
                                                                    <!--end::Item-->
                                                                    <!--begin::Item-->
                                                                    <!--<li class="nav-item d-flex col-sm flex-grow-1 flex-shrink-0 mr-0 mb-3 mb-lg-0" @onclick="HandleClick">
                                                                        <a class="nav-link border py-10 d-flex flex-grow-1 rounded flex-column align-items-center page-category " data-toggle="pill" href="#tab_forms_widget_6">
                                                                            <span class="nav-text font-size-lg py-2 font-weight-bolder text-center">PUBLIC FIGURE</span>
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </div>-->
                                                            <!--end::Body-->
                                                        <!--</div>-->
                                                        <!--begin::Nav Panel Widget 1-->
                                                    <!--</div>
                                                </div>

                                            </div>-->
                                            <!--end: Wizard Step 1-->
                                            <!--begin: Wizard Step 3-->
                                            <!--<div class="pb-5" data-wizard-type="step-content">-->
                                                <!--begin::Title-->
                                                <!--<div class="pb-10 pb-lg-15">
                                                    <h3 class="font-weight-bolder text-dark font-size-h2">Page Details</h3>
                                                </div>
                                                <OneUX_InputBox @bind-Value="Model.Name" Label="Name" ElementId="pageName" />
                                                <OneUX_ImageInputBox ReturnImgbase64="Imagebase64" />

                                                <OneUX_InputSelect @bind-Value="Model.FocusIndustry" Label="Focus Industry" Id="industryList" Title="Select Industry">
                                                    @foreach (var industry in FocusIndustry)
                                                    {
                                                        <option value=@industry>@industry</option>
                                                    }
                                                </OneUX_InputSelect>
                                                @if (Model.Category.ToLower() == "incubator")
                                                {
                                                    <OneUX_InputSelect @bind-Value="Model.IncubatorDetails.Type" Label="Incubator Type" Id="incubatorList" Title="Select Type">
                                                        @foreach (var incubatorType in Enum.GetValues(typeof(IncubatorType)))
                                                            {
                                                            <option value="@incubatorType.ToString()">@incubatorType.ToString()</option>
                                                            }
                                                    </OneUX_InputSelect>
                                                    <OneUX_InputSelect @bind-Value="Model.IncubatorDetails.IncubationServices" Id="incubationService" Label="Incubation Services" Title="Select Service">
                                                        @foreach (var service in IncubationServiceList)
                                                            {
                                                            <option value="@service">@service</option>
                                                            }
                                                    </OneUX_InputSelect>
                                                }
                                                else if (Model.Category.ToLower() == "e-cell")
                                                {
                                                    <OneUX_InputBox @bind-Value="Model.ECellDetails.UniversityName" Label="University Name" PlaceholderText="University Associated with the ECell" />
                                                    <OneUX_InputBox @bind-Value="Model.ECellDetails.NoOfStartupsAssociated" Label="Startups Associated" PlaceholderText="Total No of Startups Associated with the ECell" />
                                                }
                                                else if (Model.Category.ToLower() == "startup")
                                                {
                                                    <OneUX_InputSelect @bind-Value="Model.StartupDetails.StartupStage" Label="Startup Stage" Id="stageList" Title="Select Stage">
                                                        @foreach (var stage in StartupStage)
                                                            {
                                                            <option value=@stage>@stage</option>
                                                            }
                                                    </OneUX_InputSelect>
                                                }

                                            </div>-->
                                            <!--end: Wizard Step 2-->
                                            <!--begin: Wizard Step 3-->
                                            <!--<div class="pb-5" data-wizard-type="step-content">
                                                <OneUX_QuillEditor ElementId="businessPageAbout" PlaceholderText="Description" Label="Description" Summary="@Model.Description" />
                                            </div>-->
                                            <!--end: Wizard Step 3-->
                                            <!--begin: Wizard Step 4-->
                                            <!--<div class="pb-5" data-wizard-type="step-content">-->
                                                <!--begin::Title-->
                                                <!--<div class="pb-10 pb-lg-15">
                                                    <h3 class="font-weight-bolder text-dark font-size-h2">Complete</h3>
                                                    <div class="text-muted font-weight-bold font-size-h4">Final Review</div>
                                                </div>-->
                                                <!--end::Title-->
                                                <!--begin::Section-->
                                                <!--<h4 class="font-weight-bolder mb-3">Page Details:</h4>
                                                <div class="text-dark-50 font-weight-bold line-height-lg mb-8">
                                                    <div>@Model.Category</div>
                                                    <div>@Model.Name</div>
                                                    <div>@Model.FocusIndustry</div>
                                                </div>
                                            </div>-->
                                            <!--end: Wizard Step 4-->
                                            <!--begin: Wizard Actions-->
                                            <!--<div class="d-flex justify-content-between pt-3">
                                                <div class="mr-2">
                                                    <button type="button" class="btn btn-light-primary font-weight-bolder font-size-h6 pl-6 pr-8 py-4 my-3 mr-3" data-wizard-type="action-prev">
                                                        <span class="svg-icon svg-icon-md mr-1">
                                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                                    <rect fill="#000000" opacity="0.3" transform="translate(15.000000, 12.000000) scale(-1, 1) rotate(-90.000000) translate(-15.000000, -12.000000)" x="14" y="7" width="2" height="10" rx="1" />
                                                                    <path d="M3.7071045,15.7071045 C3.3165802,16.0976288 2.68341522,16.0976288 2.29289093,15.7071045 C1.90236664,15.3165802 1.90236664,14.6834152 2.29289093,14.2928909 L8.29289093,8.29289093 C8.67146987,7.914312 9.28105631,7.90106637 9.67572234,8.26284357 L15.6757223,13.7628436 C16.0828413,14.136036 16.1103443,14.7686034 15.7371519,15.1757223 C15.3639594,15.5828413 14.7313921,15.6103443 14.3242731,15.2371519 L9.03007346,10.3841355 L3.7071045,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(9.000001, 11.999997) scale(-1, -1) rotate(90.000000) translate(-9.000001, -11.999997)" />
                                                                </g>
                                                            </svg>
                                                        </span>Previous
                                                    </button>
                                                </div>
                                                <div>
                                                    <button type="submit" class="btn btn-secondary font-weight-bolder font-size-h6 pl-5 pr-8 py-4 my-3" data-wizard-type="action-submit">
                                                        Submit
                                                        <span class="svg-icon svg-icon-md ml-2">
                                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                                    <rect fill="#000000" opacity="0.3" transform="translate(8.500000, 12.000000) rotate(-90.000000) translate(-8.500000, -12.000000)" x="7.5" y="7.5" width="2" height="9" rx="1" />
                                                                    <path d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)" />
                                                                </g>
                                                            </svg>
                                                        </span>
                                                    </button>
                                                    <button type="button" class="btn btn-primary font-weight-bolder font-size-h6 pl-8 pr-4 py-4 my-3" data-wizard-type="action-next">
                                                        Next Step
                                                        <span class="svg-icon svg-icon-md ml-1">
                                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                                    <rect fill="#000000" opacity="0.3" transform="translate(8.500000, 12.000000) rotate(-90.000000) translate(-8.500000, -12.000000)" x="7.5" y="7.5" width="2" height="9" rx="1" />
                                                                    <path d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)" />
                                                                </g>
                                                            </svg>
                                                        </span>
                                                    </button>
                                                </div>
                                            </div>
                                        </CascadingValue>
                                    </CascadingValue>
                                </CascadingValue>
                            </CascadingValue>
                        </EditForm>
                    </div>
                </div>
            </div>
            <div class="ps__rail-x" style="left: 0px; bottom: 0px;">
                <div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
            </div>
            <div class="ps__rail-y" style="top: 0px; height: 246px; right: -2px;">
                <div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 113px;"></div>
            </div>
        </div>-->
        <!--end::Wrapper-->
    <!--</div>-->

    <!--end::Content-->
<!--</div>

@code{

    public BusinessPage Model = new BusinessPage();
    public CS_BusinessPage ClientService { get; set; }
    public FileUploader_ClientService<BusinessPage> UploaderService { get; set; }

    IJSObjectReference module = null;
    protected override async void OnInitialized()
    {
        module = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "./assets/js/wizards/businessPage_wizard.js");
        await module.InvokeVoidAsync("Wizard", "businessPage", "businessPageForm");
    }


    public async Task HandleClick()
    {
        Model.Category = await module.InvokeAsync<string>("SelectPage");

    }

    public async void Imagebase64(string src)
    {
        Model.CoverImage = await UploaderService.UploadFile(src);

    }

    protected override async Task OnInitializedAsync()
    {
        try
        {
            Model.Category = "STARTUP";
            ClientService = new CS_BusinessPage(ClientExchange, EngineServices.MarketNetwork);
            UploaderService = new FileUploader_ClientService<BusinessPage>(ClientExchange, EngineServices.MarketNetwork);
        }
        catch (NullReferenceException e)
        {
            SLog.Write(e.Message);
        }
    }

    private async void SubmitInfo()
    {

        try
        {
            HttpResponseMessage response;
            Model.Description = await JSRuntime.InvokeAsync<string>("getEditorValue", "businessPageAbout");
            if (Model.Description == "<p><br></p>")
            {
                ToastService.ShowWarning("Please Try Again :)", "Oops! Empty Section");
                return;
            }
            response = await ClientService.PostAsync(Model);
            navigationManager.NavigateTo("/home");
            if (response.IsSuccessStatusCode)
            {
                ToastService.ShowSuccess("Business Page Created Successfully!", " ");
            }
            else
            {
                ToastService.ShowError("Updation Failed!", await response.Content.ReadAsStringAsync());
            }
        }
        catch (Exception ex)
        {
            SLog.Write(ex);
        }
    }

    public List<string> FocusIndustry = new List<string>() { "Agriculture", "Art", "Automotive", "Beauty", "Blockchain", "CleanTechnology", "Construction", "Consulting", "Consumer", "Cryptocurrency", "Design", "DigitalMarketing", "Ecommerce", "Education", "EducationTechnology", "Energy", "Enterprises",
        "Entertainment",  "Events", "Fashion", "Finance", "FinTech", "HealthWellness", "Healthcare", "Hospitality", "HumanResource", "InformationTechnology", "InternetOfThings", "LifeScience",
        "Logistics", "Manufacturing", "Media", "MedicalDevices", "MobileApplications", "Platforms", "Realestate", "Restaurant", "Retail", "SocialNetwork", "Sports", "Startups", "Technology", "Travel", "TravelTourism", "UxDesign", "WebDevelopment",
        "Websites" };

    public List<string> IncubationServiceList = new List<string>() { "B-Plan", "Business Launch", "Business Management", "Funding", "Co-working Space",
        "Training & Education", "Networking Activities" ,"Marketing Assistance","Market Research","Served affiliate or Virtual clients"};

    public List<string> StartupStage = new List<string>() { "Ideation", "Validation", "Early Traction", "Scaling" };


    public string InputElementStyle { get; set; } = "";
    public string LabelStyle { get; set; } = "";
    public string ElementWrapperStyle { get; set; } = "";
    public string FormElementStyle { get; set; } = "form-group";
}-->
