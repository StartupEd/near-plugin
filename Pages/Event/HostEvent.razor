@page "/event/create"
@using Microsoft.AspNetCore.SignalR.Client
<OneUX_SubHeader BreadCrumbItems="Routes" IsInviteShow="true" />
<Head Title="Events">
</Head>
<!--<div class="d-flex flex-column-fluid">
    <div class="container">
        <div class="card card-custom card-transparent">
            <div class="card-body p-0">-->
<!--begin: Wizard-->
<!--<div class="wizard wizard-4" id="event" data-wizard-state="step-first" data-wizard-clickable="true">-->
<!--begin: Wizard Nav-->
<!--<div class="wizard-nav">
    <div class="wizard-steps">-->
<!--begin::Wizard Step 1 Nav-->
<!--<div class="wizard-step" data-wizard-type="step" data-wizard-state="current" id="eventStep1">
    <div class="wizard-wrapper">
        <div class="wizard-number">
            1
        </div>
        <div class="wizard-label">
            <div class="wizard-title">Organising Form</div>
            <div class="wizard-desc">Enter details</div>
        </div>
    </div>
</div>-->
<!--end::Wizard Step 1 Nav-->
<!--begin::Wizard Step 2 Nav-->
<!--<div class="wizard-step" data-wizard-type="step" id="eventStep2">
    <div class="wizard-wrapper">
        <div class="wizard-number">
            2
        </div>
        <div class="wizard-label">
            <div class="wizard-title">
                Details
            </div>
            <div class="wizard-desc">Description & Contact</div>
        </div>
    </div>
</div>-->
<!--end::Wizard Step 2 Nav-->
<!--begin::Wizard Step 3 Nav-->
<!--<div class="wizard-step" data-wizard-type="step" id="eventStep3">
    <div class="wizard-wrapper">
        <div class="wizard-number">
            3
        </div>
        <div class="wizard-label">
            <div class="wizard-title">
                Dates and Deadlines
            </div>
            <div class="wizard-desc">Timeline & Multiple round</div>
        </div>
    </div>
</div>-->
<!--end::Wizard Step 3 Nav-->
<!--begin::Wizard Step 4 Nav-->
<!--<div class="wizard-step" data-wizard-type="step" id="eventStep4">
    <div class="wizard-wrapper">
        <div class="wizard-number">
            4
        </div>
        <div class="wizard-label">
            <div class="wizard-title">
                Completed
            </div>
            <div class="wizard-desc">Review and Submit</div>
        </div>
    </div>
</div>-->
<!--end::Wizard Step 4 Nav-->
<!--</div>
</div>-->
<!--end: Wizard Nav-->



<div class="d-flex flex-column-fluid">
    <!--begin::Container-->
    <div class="container">
        <div class="card card-custom">
            <div class="card-body p-0">
                <!--begin: Wizard-->
                <div class="wizard wizard-2" id="event" data-wizard-state="step-first" data-wizard-clickable="true">
                    <!--begin: Wizard Nav-->
                    <div class="wizard-nav border-right py-8 px-8 py-lg-20 px-lg-10">
                        <div class="wizard-steps">
                            <!--begin::Wizard Step 1 Nav-->
                            <div class="wizard-step" data-wizard-type="step" data-wizard-state="current" id="eventStep1">
                                <div class="wizard-wrapper">
                                    <div class="wizard-icon">
                                        <div class="wizard-number">
                                            1
                                        </div>
                                    </div>
                                    <div class="wizard-label">
                                        <h3 class="wizard-title">Organising Form</h3>
                                        <div class="wizard-desc">Enter Details</div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Wizard Step 1 Nav-->
                            <!--begin::Wizard Step 2 Nav-->
                            <div class="wizard-step" data-wizard-type="step" id="eventStep2">
                                <div class="wizard-wrapper">
                                    <div class="wizard-icon">
                                        <div class="wizard-number">
                                            2
                                        </div>
                                    </div>
                                    <div class="wizard-label">
                                        <div class="wizard-title">
                                            Dates and Deadlines
                                        </div>
                                        <div class="wizard-desc">Timeline & Multiple Stages</div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Wizard Step 2 Nav-->
                            <!--begin::Wizard Step 3 Nav-->
                            <div class="wizard-step" data-wizard-type="step" id="eventStep3">
                                <div class="wizard-wrapper">
                                    <div class="wizard-icon">
                                        <div class="wizard-number">
                                            3
                                        </div>
                                    </div>
                                    <div class="wizard-label">
                                        <div class="wizard-title">
                                            Additional Details
                                        </div>
                                        <div class="wizard-desc">Description & Contact</div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Wizard Step 3 Nav-->
                            <!--begin::Wizard Step 4 Nav-->
                            <div class="wizard-step" data-wizard-type="step" id="eventStep4">
                                <div class="wizard-wrapper">
                                    <div class="wizard-icon">
                                        <div class="wizard-number">
                                            4
                                        </div>
                                    </div>
                                    <div class="wizard-label">
                                        <div class="wizard-title">
                                            Completed
                                        </div>
                                        <div class="wizard-desc">Review and Submit</div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Wizard Step 4 Nav-->
                        </div>
                    </div>
                    <!--end: Wizard Nav-->
                    <!--begin: Wizard Body-->
                    <div class="wizard-body py-8 px-8 py-lg-20 px-lg-10">
                        <EditForm class="form" id="eventForm" Model="@Model" OnValidSubmit="SubmitModel">
                            <DataAnnotationsValidator />
                            <ValidationSummary />
                            <!--begin: Wizard Form-->
                            <div class="dataTables_scrollBody" style="position: relative; overflow-y: auto; overflow-x:hidden; width: 100%; max-height: 50vh;">

                                <!--begin: Wizard Step 1-->
                                <CascadingValue Value="@FormElementStyle" Name="FormInput Class">
                                    <CascadingValue Value="@InputElementStyle" Name="Input Class">
                                        <CascadingValue Value="@LabelStyle" Name="Label Class">
                                            <CascadingValue Value="@ElementWrapperStyle" Name="Wrapper Class">
                                                <!--begin: Wizard Step 1-->
                                                <div class="pb-5" data-wizard-type="step-content" data-wizard-state="current">
                                                    <OneUX_InputBox @bind-Value="Model.Name" PlaceholderText="Event Name" Label="Title" StarValidation="@Validation" />
                                                    <OneUX_InputBox @bind-Value="Model.Organisation" PlaceholderText="Event Organisation" Label="Organisation" StarValidation="@Validation" />
                                                    <OneUX_ImageInputBox ReturnImgbase64="Imagebase64" ImageDataUrl="@Model.Core.ImageUrl" Label="CoverImage" />
                                                    <OneUX_InputSelect @bind-Value="Model.Type" Label="Event Type" Id="eventList" Title="Select Type" StarValidation="@Validation">
                                                        @foreach (var type in EventType)
                                                        {
                                                            <option value=@type>@type</option>
                                                        }
                                                    </OneUX_InputSelect>                                                    
                                                </div>
                                                <!--end: Wizard Step 1-->
                                                <!--begin: Wizard Step 2-->
                                                <div class="pb-5" data-wizard-type="step-content">
                                                    <OneUX_DateRangePicker Style="row col-xl-9" Label1="Registration Dates" Label2="Event Dates" ElementId_3="startRegId" ElementId_4="endRegId" ElementId_5="startEventId" ElementId_6="endEventId" />

                                                    @if (RoundContainer == "d-none")
                                                    {
                                                        <button class="btn btn-secondary" @onclick="AddRound">Add Round</button>
                                                    }
                                                    else
                                                    {
                                                        <button class="btn btn-light-secondary" disabled>Add Round</button>
                                                    }

                                                    @if (Model.Rounds != null && Model.Rounds.Count > 0)
                                                    {
                                                        <RoundTimeline RoundList="@Model.Rounds" ReturnRound="UpdateRound" />
                                                    }

                                                    <div class="@RoundContainer mt-10">
                                                        @if (Round != null)
                                                        {
                                                            <RoundForm RoundData="@Round" OnClickCallback1="SaveRound" OnClickCallback2="CancelRound" Style="row col-xl-9" />
                                                        }
                                                    </div>
                                                </div>

                                                <!--end: Wizard Step 2-->
                                                <!--begin: Wizard Step 3-->
                                                <div class="pb-5" data-wizard-type="step-content">
                                                    <OneUX_QuillEditor ElementId="eventDetail" Summary="@Model.Core.ImageUrl" Label="Description" StarValidation="@Validation" />
                                                    <OneUX_InputBox @bind-Value="Model.Prizes" PlaceholderText="Cash Prize" Label="Prize" />
                                                    <div class="separator separator-dashed my-5"></div>

                                                    <h6 class="font-weight-bold mb-3">
                                                        Contact Info:
                                                    </h6>
                                                    <OneUX_InputBox @bind-Value="Model.ContactInfo.Name" Label="Host Name" PlaceholderText="Freddy" StarValidation="@Validation" />
                                                    <OneUX_InputBox @bind-Value="Model.ContactInfo.PhoneNo" Label="Phone No" PlaceholderText="9871245367" MaxLength="10" StarValidation="@Validation" />
                                                    <OneUX_InputBox @bind-Value="Model.ContactInfo.Website" Label="Website" PlaceholderText="loop.com" />
                                                    <OneUX_InputBox @bind-Value="Model.ContactInfo.Email" Label="Email" SpanElement="We'll never share your email with anyone else." PlaceholderText="freddy@mail.com" StarValidation="@Validation" />
                                                </div>
                                                <!--end: Wizard Step 3-->
                                                <!--begin: Wizard Step 4-->
                                                <div class="pb-5" data-wizard-type="step-content">
                                                    <h6 class="font-weight-bold mb-3">
                                                        Program Details:
                                                    </h6>
                                                    <table class="w-100">
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Event Name:</td>
                                                            <td class="font-weight-bold text-right">@Model.Name</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Event Name:</td>
                                                            <td class="font-weight-bold text-right">@Model.Organisation</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Event Type:</td>
                                                            <td class="font-weight-bold text-right">@Model.Type</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Prize:</td>
                                                            <td class="font-weight-bold text-right">@Model.Prizes</td>
                                                        </tr>
                                                    </table>
                                                    <div class="separator separator-dashed my-5"></div>

                                                    <h6 class="font-weight-bold mb-3">
                                                        Contact Info:
                                                    </h6>
                                                    <table class="w-100">
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Name:</td>
                                                            <td class="font-weight-bold text-right">@Model.ContactInfo.Name</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Phone:</td>
                                                            <td class="font-weight-bold text-right">@Model.ContactInfo.PhoneNo</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Email:</td>
                                                            <td class="font-weight-bold text-right">@Model.ContactInfo.Email</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-weight-bold text-muted">Website:</td>
                                                            <td class="font-weight-bold text-right">@Model.ContactInfo.Website</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                <!--end: Wizard Step 4-->
                                            </CascadingValue>
                                        </CascadingValue>
                                    </CascadingValue>
                                </CascadingValue>
                                <!--end: Wizard Step 4-->


                            </div>
                            <!--end: Wizard Form-->
                            <!--begin::Actions-->
                            <div class="d-flex justify-content-between border-top mt-5 pt-10">
                                <div class="mr-2">
                                    <button type="button" class="btn btn-light-primary font-weight-bold text-uppercase px-9 py-4" data-wizard-type="action-prev">
                                        <span class="svg-icon svg-icon-md mr-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                    <rect fill="#000000" opacity="0.3" transform="translate(15.000000, 12.000000) scale(-1, 1) rotate(-90.000000) translate(-15.000000, -12.000000)" x="14" y="7" width="2" height="10" rx="1" />
                                                    <path d="M3.7071045,15.7071045 C3.3165802,16.0976288 2.68341522,16.0976288 2.29289093,15.7071045 C1.90236664,15.3165802 1.90236664,14.6834152 2.29289093,14.2928909 L8.29289093,8.29289093 C8.67146987,7.914312 9.28105631,7.90106637 9.67572234,8.26284357 L15.6757223,13.7628436 C16.0828413,14.136036 16.1103443,14.7686034 15.7371519,15.1757223 C15.3639594,15.5828413 14.7313921,15.6103443 14.3242731,15.2371519 L9.03007346,10.3841355 L3.7071045,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(9.000001, 11.999997) scale(-1, -1) rotate(90.000000) translate(-9.000001, -11.999997)" />
                                                </g>
                                            </svg>
                                        </span>Previous
                                    </button>
                                </div>
                                <div>
                                    <button type="submit" class="btn btn-secondary font-weight-bold text-uppercase px-9 py-4 submitFormBtn" data-wizard-type="action-submit">
                                        Submit
                                        <span class="svg-icon svg-icon-md ml-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                    <rect fill="#000000" opacity="0.3" transform="translate(8.500000, 12.000000) rotate(-90.000000) translate(-8.500000, -12.000000)" x="7.5" y="7.5" width="2" height="9" rx="1" />
                                                    <path d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)" />
                                                </g>
                                            </svg>
                                        </span>
                                    </button>
                                    <button type="button" class="btn btn-primary font-weight-bold text-uppercase px-9 py-4" data-wizard-type="action-next" id="nextTab">
                                        Next Step
                                        <span class="svg-icon svg-icon-md ml-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <polygon points="0 0 24 0 24 24 0 24" />
                                                    <rect fill="#000000" opacity="0.3" transform="translate(8.500000, 12.000000) rotate(-90.000000) translate(-8.500000, -12.000000)" x="7.5" y="7.5" width="2" height="9" rx="1" />
                                                    <path d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)" />
                                                </g>
                                            </svg>
                                        </span>
                                    </button>
                                </div>
                            </div>
                            <!--end::Actions-->
                        </EditForm>
                    </div>
                    <!--end: Wizard Body-->
                </div>
                <!--end: Wizard-->
            </div>
        </div>
    </div>
</div>


